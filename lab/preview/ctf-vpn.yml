kind: lab/v1
name: ctf-vpn
tags:
- preview
- official

boxes:
- name: arch
  template:
    name: box/base/arch

- name: parrot
  template:
    name: box/base/parrot
    env:
    # randomly generated by default
    - PASSWORD=${input.password:random}
  size: M
  vpn: default
  ########## CLOUD ONLY ##########
  public: true
  dumps:
    - seclists

# (DOCKER/KUBE) hckctl lab ctf-vpn --input vpn.default.ref=/my/local/path/config.ovpn
# (CLOUD) hckctl lab ctf-vpn --input password=CHANGEME --input vpn.default.ref=SECRET_REF
network:
  vpn:
  - name: default
    ref: ${input.vpn.default.ref}

########## CLOUD ONLY ##########
dumps:
  git:
  - name: seclists
    url: https://github.com/danielmiessler/SecLists
    branch: "master"
    path: /wordlists
